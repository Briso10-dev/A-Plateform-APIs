// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

// Model users
model User {
  user_id   String     @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  email     String?
  age       Int
  password  String
  role      Role @default(USER)
  apprenant Apprenant?
}

// model apprenants
model Apprenant {
  apprenant_id      String  @id @default(auto()) @map("_id") @db.ObjectId
  quizzes           String
  courses           String?
  exercises         String
  certifications    String
  matricule         String  @unique
  cni               String
  address           String
  photo             String
  phone             String?
  registration_date String
  tutor             String
  school_level      String
  status            Status
  user              User    @relation(fields: [userId], references: [user_id])
  userId            String  @unique @db.ObjectId
}

// Model facture
model facture {
  invoice_id String   @id @default(auto()) @map("_id") @db.ObjectId
  amount     Int
  status     String
  due_date   DateTime
}

// model projet
model Projet {
  projet_id   String  @id @default(auto()) @map("_id") @db.ObjectId
  title       String
  description String?
}

// enumerations lists
enum Role {
  SUPERADMIN
  ADMIN
  USER 
  STUDENT
}
enum Status {
  STUDENT
  PROFESSIONAL
  OTHER
}

// types lists
type Tutor{
  mother String
  father String
  other String
}